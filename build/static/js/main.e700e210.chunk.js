(this.webpackJsonpmy_todo=this.webpackJsonpmy_todo||[]).push([[0],{33:function(e,n,t){},35:function(e,n,t){},48:function(e,n,t){"use strict";t.r(n);var a=t(4),c=t(10),r=t.n(c),s=t(24),i=t.n(s),o=(t(33),t(8)),u=t.n(o),l=t(12),d=t(13);t(35);var p=function(e){var n=e.item,t=e.onCheck;return Object(a.jsxs)("label",{className:"panel-block",children:[Object(a.jsx)("input",{type:"checkbox",checked:n.done,onChange:function(){t(n)}}),Object(a.jsx)("span",{className:n.done?"has-text-grey-light":"",children:n.text})]})};var f=function(e){var n=e.onAdd,t=r.a.useState(""),c=Object(d.a)(t,2),s=c[0],i=c[1];return Object(a.jsx)("div",{className:"panel-block",children:Object(a.jsx)("input",{class:"input",type:"text",placeholder:"Enter to add",value:s,onChange:function(e){return i(e.target.value)},onKeyDown:function(e){13===e.keyCode&&(n(s),i(""))}})})};var j=function(e){var n=e.value,t=e.onChange,c=function(e,n){n.preventDefault(),t(e)};return Object(a.jsxs)("div",{className:"panel-tabs",children:[Object(a.jsx)("a",{href:"#",onClick:c.bind(null,"ALL"),className:"ALL"===n?"is-active":"",children:"\u5168\u3066"}),Object(a.jsx)("a",{href:"#",onClick:c.bind(null,"TODO"),className:"TODO"===n?"is-active":"",children:"\u672a\u5b8c\u4e86"}),Object(a.jsx)("a",{href:"#",onClick:c.bind(null,"DONE"),className:"DONE"===n?"is-active":"",children:"\u5b8c\u4e86\u6e08\u307f"})]})},b=t(14),h=t(27),v=t(16);v.a.initializeApp({apiKey:"AIzaSyAhRLYe9lC6g3YMXviyMjHnKfpYLv9MFs0",authDomain:"fir-sample-30792.firebaseapp.com",projectId:"fir-sample-30792",storageBucket:"fir-sample-30792.appspot.com",messagingSenderId:"616237505675",appId:"1:616237505675:web:46229516aa53373163088e"});var O=v.a.firestore(),x=v.a.auth(),m=(v.a,{signInFlow:"popup",signInSuccessUrl:"/",signInOptions:[v.a.auth.GoogleAuthProvider.PROVIDER_ID]}),g=function(){var e=Object(l.a)(u.a.mark((function e(n){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.uid,e.next=3,O.collection("users").doc(t).get();case 3:if((a=e.sent).exists){e.next=10;break}return e.next=7,O.collection("users").doc(t).set({name:n.displayName});case 7:return e.abrupt("return",{name:n.displayName,id:t});case 10:return e.abrupt("return",Object(b.a)({id:t},a.data()));case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(u.a.mark((function e(){var n,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.collection("todos").get();case 3:return n=e.sent,t=n.docs.map((function(e){return Object(b.a)(Object(b.a)({},e.data()),{},{id:e.id})})),e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(u.a.mark((function e(n){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=O.collection("todos"),e.next=4,t.add(n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(u.a.mark((function e(n,t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=O.collection("todos").doc(t),e.next=4,a.update(n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n,t){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(u.a.mark((function e(n){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O.collection("todos").doc(n.id),e.next=3,t.delete().then((function(){})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var C=function(){var e=Object(c.useState)([]),n=Object(d.a)(e,2),t=n[0],a=n[1];Object(c.useEffect)((function(){r()}),[t]);var r=function(){var e=Object(l.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:n=e.sent,a(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(l.a)(u.a.mark((function e(n){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={text:n.text,done:n.done},e.next=3,w(c);case 3:a([].concat(Object(h.a)(t),[c]));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),i=function(){var e=Object(l.a)(u.a.mark((function e(n){var c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={done:!n.done},e.next=3,y(c,n.id);case 3:r=t.map((function(e){return e.id===n.id&&(e=Object(b.a)(Object(b.a)({},e),{},{changes:c})),e})),a(r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return[t,s,i,function(){t.map((function(e){N(e)})),a([])}]};var D=function(){var e=C(),n=Object(d.a)(e,4),t=n[0],c=n[1],s=n[2],i=n[3],o=r.a.useState("ALL"),u=Object(d.a)(o,2),l=u[0],b=u[1],h=t.filter((function(e){return"ALL"===l||("TODO"===l?!e.done:"DONE"===l?e.done:void 0)})),v=function(e){s(e)};return Object(a.jsxs)("div",{className:"panel is-danger",children:[Object(a.jsx)("div",{className:"panel-heading",children:Object(a.jsxs)("span",{class:"icon-text",children:[Object(a.jsx)("span",{class:"icon",children:Object(a.jsx)("i",{class:"fas fa-calendar-check"})}),Object(a.jsx)("span",{children:" ITSS Todo\u30a2\u30d7\u30ea"})]})}),Object(a.jsx)(f,{onAdd:function(e){c({text:e,done:!1})}}),Object(a.jsx)(j,{onChange:function(e){return b(e)},value:l}),h.map((function(e){return Object(a.jsx)(p,{item:e,onCheck:v},e.id)})),Object(a.jsxs)("div",{className:"panel-block",children:[t.length," items"]}),Object(a.jsx)("div",{className:"panel-block",children:Object(a.jsx)("button",{className:"button is-light is-fullwidth",onClick:i,children:"\u5168\u3066\u306eToDo\u3092\u524a\u9664"})})]})},L=t(25),A=t.n(L);var I=function(){return Object(a.jsx)("div",{className:"column panel-block",children:Object(a.jsx)(A.a,{uiConfig:m,firebaseAuth:x})})};var S=function(){var e=Object(c.useState)(!0),n=Object(d.a)(e,2),t=n[0],r=n[1],s=Object(c.useState)([]),i=Object(d.a)(s,2),o=i[0],p=i[1];Object(c.useEffect)((function(){x.onAuthStateChanged(function(){var e=Object(l.a)(u.a.mark((function e(n){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(!1),t=null,!n){e.next=6;break}return e.next=5,g(n);case 5:t=e.sent;case 6:p(t);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}),[]);var f=function(){x.signOut()},j=function(){return o?Object(a.jsxs)("div",{class:"navbar-end",children:[Object(a.jsx)("div",{class:"navbar-item",children:o.name}),Object(a.jsx)("div",{class:"navbar-item",children:Object(a.jsx)("button",{class:"button is-danger is-light is-small",onClick:f,children:" Logout"})})]}):Object(a.jsx)(I,{})};return Object(a.jsxs)("div",{className:"container is-fluid",children:[Object(a.jsx)("header",{class:"navbar",children:t?Object(a.jsx)("p",{children:"LOADING..."}):Object(a.jsx)(j,{})}),Object(a.jsx)("div",{children:o&&Object(a.jsx)(D,{})})]})},E=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,49)).then((function(n){var t=n.getCLS,a=n.getFID,c=n.getFCP,r=n.getLCP,s=n.getTTFB;t(e),a(e),c(e),r(e),s(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(S,{})}),document.getElementById("root")),E()}},[[48,1,2]]]);
//# sourceMappingURL=main.e700e210.chunk.js.map